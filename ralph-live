#!/usr/bin/env bash

# Wrapper for ralph-live - Real-time CLI with streaming output
# Resolves symlinks and calls the actual script

set -euo pipefail

SOURCE=${BASH_SOURCE[0]}
while [ -L "$SOURCE" ]; do
    DIR=$(cd -P "$(dirname "$SOURCE")" && pwd)
    SOURCE=$(readlink "$SOURCE")
    case "$SOURCE" in
        /*) ;;
        *) SOURCE="$DIR/$SOURCE" ;;
    esac
done

SCRIPT_DIR=$(cd -P "$(dirname "$SOURCE")" && pwd)

exec "$SCRIPT_DIR/ralph-refactor/ralph-live" "$@"
